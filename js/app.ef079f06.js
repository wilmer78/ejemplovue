(function(e){function t(t){for(var c,r,o=t[0],l=t[1],s=t[2],p=0,b=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&b.push(a[r][0]),a[r]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);u&&u(t);while(b.length)b.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(c=!1)}c&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},a={app:0},i=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/ejemplovue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var c=n("85ec"),a=n.n(c);a.a},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);var c=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Cabecera"),n("Lista")],1)},i=[],r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{attrs:{id:"app"}},[c("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])}],l={name:"Cabecera"},s=l,u=n("2877"),p=Object(u["a"])(s,r,o,!1,null,null,null),b=p.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.runningInFrame?e._e():n("div",{staticClass:"w-full p-4 flex justify-center flex-col bg-grey h-screen"},[n("h1",{staticClass:"mb-4"},[e._v("Wallet Aepp")]),e.publicKey2?n("input",{directives:[{name:"model",rawName:"v-model",value:e.publicKey2,expression:"publicKey2"}],domProps:{value:e.publicKey2},on:{input:function(t){t.target.composing||(e.publicKey2=t.target.value)}}}):e._e(),e.client?n("button",{on:{click:e.switchAccount}},[e._v("Actualizar")]):e._e(),n("div",{staticClass:"border"},[n("div",{staticClass:"bg-green w-full flex flex-row font-mono border border-b"},[n("div",{staticClass:"p-2 w-1/4"},[e._v(" Public Key ")]),n("div",{staticClass:"p-2 w-3/4 bg-grey-lightest break-words"},[e._v(" "+e._s(e.publicKey2)+" ")])]),e.balance||e.balance>=0?n("div",{staticClass:"bg-green w-full flex flex-row font-mono"},[n("div",{staticClass:"p-2 w-1/4"},[e._v(" Balance ")]),n("div",{staticClass:"p-2 w-3/4 bg-grey-lightest"},[e._v(" "+e._s(e.balance)+" ")])]):e._e()]),e.aeppUrl?e._e():n("div",{staticClass:"w-full p-4 h-64 border border-black border-dashed shadow mx-auto mt-4 bg-grey-lighter"},[e._v(" Loading Aepp... ")])])},f=[],h=(n("e260"),n("e6cf"),n("ddb0"),n("dc66")),y=n("1e04"),v=n("64b1"),m=n("469f"),g={data(){return{runningInFrame:window.parent!==window,publicKey:"ak_2iAxvVuicjnyBfyY7FE1Xkg2bCtnJ22ndPF3VnY5a6i74SbRSh",publicKey2:"ak_2iAxvVuicjnyBfyY7FE1Xkg2bCtnJ22ndPF3VnY5a6i74SbRSh",secretKey:"9d5852fb77ef1ee31bc14b3a371e3677c34bfce1b8cf507ecbdec0c07fe9d37ce12e83944579e67e2a3a1a848c29d36e3467b8a24c0d21890f4d061ce5ba9540",client:null,balance:null,height:null,url:"https://sdk-testnet.aepps.com",internalUrl:"https://sdk-testnet.aepps.com",compilerUrl:"https://compiler.aepps.com",aeppUrl:"http://localhost:8080"}},methods:{async shareWalletInfo(e,{interval:t=5e3,attemps:n=5}={}){const c=this.client,a=async e=>{await new Promise(t=>setTimeout(t,e))};async function i(r){return c.shareWalletInfo(e),r>0?(await a(t),i(n-1)):void console.log("Finish sharing wallet info")}return await i(n)},disconnect(){const{clients:e}=this.client.getClients(),t=Array.from(e.values())[0];t.disconnect()},async switchAccount(){const e=this.client.addresses().find(e=>e!==this.publicKey2);this.client.selectAccount(e),this.publicKey=await this.client.address(),this.balance=await this.client.balance(this.publicKey2).catch(()=>0)}},async created(){const e=Object(h["a"])({keypair:Object(m["j"])()}),t=await Object(y["a"])({url:this.url,internalUrl:this.internalUrl}),n=e=>(t,{accept:n,deny:c,params:a})=>{confirm(`Client ${t.info.name} with id ${t.id} want to ${e(a)}`)?n():c()},c=Object(m["j"])(),a=Object(m["j"])(),i=this.publicKey;this.client=await Object(v["a"])({nodes:[{name:"test-net",instance:t}],compilerUrl:this.compilerUrl,accounts:[Object(h["a"])({keypair:{secretKey:this.secretKey,publicKey:this.publicKey}}),e],address:this.publicKey,name:"Wallet",onConnection:n(()=>"connect"),onSubscription(t,{accept:n,deny:r},o){n({accounts:{current:{[c.publicKey]:{}},connected:{[a.publicKey]:{},[i]:{},[e.publicKey]:{}}}})},onSign(e,{accept:t,deny:n,params:i},r){const o={[c.publicKey]:Object(h["a"])({keypair:c}),[a.publicKey]:Object(h["a"])({keypair:a})}[i.onAccount];t(null,{onAccount:o})},onMessageSign(e,{accept:t,deny:n,params:i},r){const o={[c.publicKey]:Object(h["a"])({keypair:c}),[a.publicKey]:Object(h["a"])({keypair:a})}[i.onAccount];t({onAccount:o})},onAskAccounts:n(()=>"get accounts"),onDisconnect(e,t){this.shareWalletInfo(connection.sendMessage.bind(connection))}}),this.balance=await this.client.balance(await this.publicKey2).catch(e=>0)}},w=g,_=Object(u["a"])(w,d,f,!1,null,null,null),j=_.exports,K={name:"App",components:{Cabecera:b,Lista:j}},O=K,x=(n("034f"),Object(u["a"])(O,a,i,!1,null,null,null)),k=x.exports,C=n("2f62");c["a"].use(C["a"]);var A=new C["a"].Store({state:{ides:[{nombre:"vs code",voto:0},{nombre:"netbeans",voto:0},{nombre:"sublime",voto:0}]},mutations:{suma(e,t){e.ides[t].voto++},cero(e){e.ides.forEach(e=>{e.voto=0})}},actions:{},modules:{}});c["a"].config.productionTip=!1,new c["a"]({store:A,render:e=>e(k)}).$mount("#app")},6:function(e,t){},7:function(e,t){},"85ec":function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.ef079f06.js.map